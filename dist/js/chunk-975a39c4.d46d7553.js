(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-975a39c4"],{"0327":function(e,r,t){},"2b07":function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"container"},[t("h1",[e._v("Your upcoming Meal")]),t("div",[t("table",{staticClass:"table"},[e._m(0),e._l(e.todo_recipes,(function(r){return t("tr",{key:r.order},[t("td",[t("h2",[e._v(e._s(r.order))])]),t("td",[t("RecipePreviewHorizontal",{staticClass:"recipePreview",attrs:{recipe:r.recipe_preview}})],1),t("td",[t("RecipeProgressBar",{attrs:{r_id:r.recipe_preview.id}})],1),t("td",[t("span",{attrs:{id:"change_order"}},[t("b-button",{staticClass:"order",attrs:{pill:"",variant:"outline-danger",title:"move order down"},on:{click:function(t){return e.moveDown(r)}}},[t("b-icon-arrow-down")],1),t("b-button",{staticClass:"order",attrs:{pill:"",variant:"outline-success",title:"move order up"},on:{click:function(t){return e.moveUp(r)}}},[t("b-icon-arrow-up")],1)],1)]),t("td",[t("b-icon",{attrs:{id:"delete-icon",icon:"x-circle",title:"remove recipe from upcoming meal"},on:{click:function(t){return e.remove(r)}}})],1)])}))],2),t("b-button",{attrs:{variant:"outline-danger",id:"remove-all"},on:{click:e.removeAll}},[e._v("remove all recipes from current meal plan")])],1)])])},a=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("thead",[t("th",[e._v("Order")]),t("th",[e._v("Recipe")]),t("th",[e._v("Progress")]),t("th",[e._v("Change Order")]),t("th",[e._v("Remove")])])}],c=(t("e25e"),t("96cf"),t("1da1")),i=t("24db"),o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("b-progress",{staticClass:"mb-3",attrs:{max:e.max,height:"2rem"}},[t("b-progress-bar",{attrs:{variant:"success",value:e.value}},[t("span",[t("strong",[e._v(e._s(e.value.toFixed(2))+" / "+e._s(e.max))])])])],1)],1)},s=[],u=(t("a9e3"),{name:"ProgressBar",props:{r_id:{type:Number,required:!0}},data:function(){return{max:0,value:0}},created:function(){},mounted:function(){this.max=this.get_Session_Value()[1],this.value=this.get_Session_Value()[0],console.log("recipe progress bar this.value : "+this.value)},methods:{get_Session_Value:function(){return JSON.parse(sessionStorage.making_progress)[this.r_id]}}}),l=u,p=t("2877"),d=Object(p["a"])(l,o,s,!1,null,null,null),h=d.exports,v={name:"MealPlanning",data:function(){return{todo_recipes:[]}},mounted:function(){this.getupcomingMeal()},components:{RecipePreviewHorizontal:i["a"],RecipeProgressBar:h},methods:{getupcomingMeal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t="https://chenshahafrecipes.cs.bgu.ac.il",r.prev=1,r.next=4,e.axios.create({withCredentials:!0}).get(t+"/users/upcomingMeal",{withCredentials:!0});case 4:n=r.sent,e.todo_recipes=n.data,r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},moveDown:function(e){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n="https://chenshahafrecipes.cs.bgu.ac.il/",e.order!=r.todo_recipes.length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,r.axios.create({withCredentials:!0}).put(n+"users/changeRecipeOrderInMeal",{recipeId:e.recipe_preview.id,neworder:e.order+1},{withCredentials:!0});case 6:console.log("order changed"),r.getupcomingMeal(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},moveUp:function(e){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n="https://chenshahafrecipes.cs.bgu.ac.il/",1!=e.order){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,r.axios.create({withCredentials:!0}).put(n+"users/changeRecipeOrderInMeal",{recipeId:e.recipe_preview.id,neworder:e.order-1},{withCredentials:!0});case 6:console.log("order changed"),r.getupcomingMeal(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},remove:function(e){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="https://chenshahafrecipes.cs.bgu.ac.il/",t.prev=1,t.next=4,r.axios.create({withCredentials:!0})["delete"](n+"users/removeRecipeFromMeal",{data:{recipeId:e.recipe_preview.id}});case 4:a=localStorage.getItem("cart"),localStorage.setItem("cart",parseInt(a)-1),r.getupcomingMeal(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},removeAll:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!=e.todo_recipes.length){r.next=3;break}return confirm("No recipes in current meal"),r.abrupt("return");case 3:return t="https://chenshahafrecipes.cs.bgu.ac.il/",r.prev=4,r.next=7,e.axios.create({withCredentials:!0})["delete"](t+"users/removeAllRecipesFromMeal",{});case 7:e.getupcomingMeal(),localStorage.setItem("cart",0),confirm("All recipes from current meal were successfully removed"),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](4),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[4,12]])})))()}}},f=v,g=(t("fcd0"),Object(p["a"])(f,n,a,!1,null,"533e7f3c",null));r["default"]=g.exports},7156:function(e,r,t){var n=t("861d"),a=t("d2bb");e.exports=function(e,r,t){var c,i;return a&&"function"==typeof(c=r.constructor)&&c!==t&&n(i=c.prototype)&&i!==t.prototype&&a(e,i),e}},a9e3:function(e,r,t){"use strict";var n=t("83ab"),a=t("da84"),c=t("94ca"),i=t("6eeb"),o=t("5135"),s=t("c6b6"),u=t("7156"),l=t("c04e"),p=t("d039"),d=t("7c73"),h=t("241c").f,v=t("06cf").f,f=t("9bf2").f,g=t("58a8").trim,m="Number",b=a[m],_=b.prototype,w=s(d(_))==m,x=function(e){var r,t,n,a,c,i,o,s,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=g(u),r=u.charCodeAt(0),43===r||45===r){if(t=u.charCodeAt(2),88===t||120===t)return NaN}else if(48===r){switch(u.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(c=u.slice(2),i=c.length,o=0;o<i;o++)if(s=c.charCodeAt(o),s<48||s>a)return NaN;return parseInt(c,n)}return+u};if(c(m,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var I,k=function(e){var r=arguments.length<1?0:e,t=this;return t instanceof k&&(w?p((function(){_.valueOf.call(t)})):s(t)!=m)?u(new b(x(r)),t,k):x(r)},N=n?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;N.length>R;R++)o(b,I=N[R])&&!o(k,I)&&f(k,I,v(b,I));k.prototype=_,_.constructor=k,i(a,m,k)}},c20d:function(e,r,t){var n=t("da84"),a=t("58a8").trim,c=t("5899"),i=n.parseInt,o=/^[+-]?0[Xx]/,s=8!==i(c+"08")||22!==i(c+"0x16");e.exports=s?function(e,r){var t=a(String(e));return i(t,r>>>0||(o.test(t)?16:10))}:i},e25e:function(e,r,t){var n=t("23e7"),a=t("c20d");n({global:!0,forced:parseInt!=a},{parseInt:a})},fcd0:function(e,r,t){"use strict";var n=t("0327"),a=t.n(n);a.a}}]);
//# sourceMappingURL=chunk-975a39c4.d46d7553.js.map