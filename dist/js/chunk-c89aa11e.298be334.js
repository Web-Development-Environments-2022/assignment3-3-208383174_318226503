(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c89aa11e"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"2ff5":function(e,t,r){"use strict";var n=r("c0ad"),s=r.n(n);s.a},37906:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Search Page")]),r("div",{attrs:{id:"details"}},[r("b-nav-form",[r("b-container",[r("b-row",[r("b-col",[r("b-form-input",{staticStyle:{width:"800px"},attrs:{id:"search",placeholder:"Search...","label-for":"search",type:"text",state:e.validateState("search"),size:"lg"},model:{value:e.$v.form.search.$model,callback:function(t){e.$set(e.$v.form.search,"$model",t)},expression:"$v.form.search.$model"}})],1),e.$v.form.search.length?r("b-form-invalid-feedback"):e._e(),r("b-col",[r("b-button",{attrs:{variant:"outline-success",type:"submit",size:"lg"},on:{click:e.onSearch}},[e._v("Search")])],1)],1),r("b-row",[r("b-col",[r("b-dropdown",{staticClass:"m-md-2",attrs:{"toggle-class":"customDropdown",variant:"none",id:"numSearchResult",text:e.numberOfResults_text}},[r("b-dropdown-item",{on:{click:function(t){return e.numSearchResult("5")}}},[e._v("5")]),r("b-dropdown-item",{on:{click:function(t){return e.numSearchResult("10")}}},[e._v("10")]),r("b-dropdown-item",{on:{click:function(t){return e.numSearchResult("15")}}},[e._v("15")])],1)],1),r("b-col",[r("b-dropdown",{staticClass:"m-md-2",attrs:{id:"cuisine","toggle-class":"customDropdown",variant:"none",text:e.selectedCuisine}},e._l(e.cuisines,(function(t){return r("b-dropdown-item-button",{key:t.text,on:{click:function(r){return r.preventDefault(),e.setCuisine(t)}}},[e._v(e._s(t))])})),1)],1),r("b-col",[r("b-dropdown",{staticClass:"m-md-2",attrs:{id:"diet","toggle-class":"customDropdown",variant:"none",text:e.selectedDiet}},e._l(e.diets,(function(t){return r("b-dropdown-item-button",{key:t.text,on:{click:function(r){return r.preventDefault(),e.setDiet(t)}}},[e._v(e._s(t))])})),1)],1),r("b-col",[r("b-dropdown",{staticClass:"m-md-2",attrs:{id:"intolerance","toggle-class":"customDropdown",variant:"none",text:e.selectedIntolerance}},e._l(e.intolerances,(function(t){return r("b-dropdown-item-button",{key:t.text,on:{click:function(r){return r.preventDefault(),e.setIntolerance(t)}}},[e._v(e._s(t))])})),1)],1)],1)],1)],1),this.hasLastSearch?r("b-row",[r("p",{attrs:{id:"last-search"}},[r("span",[e._v(e._s(e.last_search))])])]):e._e(),0==this.isEmpty?r("b-row",{attrs:{id:"sort-by"}},[r("b-form-group",{attrs:{label:"Sort by:"}},[r("b-form-radio",{attrs:{value:"cooking_duration",name:"sortOpt"},nativeOn:{change:function(t){return e.sortByCookingDuration(t)}}},[e._v("Cooking Duration")]),r("b-form-radio",{attrs:{value:"popularity",name:"sortOpt"},nativeOn:{change:function(t){return e.sortByPopularity(t)}}},[e._v("Popularity")])],1)],1):e._e()],1),0==this.isEmpty?r("b-row",{attrs:{cols:"3",id:"preview-col"}},e._l(e.results,(function(e){return r("b-col",{key:e.id},[r("RecipePreview",{staticClass:"searchResultsPreview",attrs:{recipe:e}})],1)})),1):e._e(),1==this.isEmpty?r("b-row",[r("b-alert",{attrs:{show:"",variant:"danger"}},[r("p",{staticClass:"alert-link"},[e._v("Oops! Nothing matches your search.")])])],1):e._e()],1)},s=[],i=(r("99af"),r("4e82"),r("0d03"),r("d3b7"),r("ac1f"),r("25f0"),r("841c"),r("96cf"),r("1da1")),a=r("2909"),c=r("b5ae"),o=["All Cuisines","African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],l=["All Diets","Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],u=["No Intolerances","Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"],d=r("832a"),h={name:"searchResult",data:function(){return{form:{search:""},search:"",numberOfResults:"5",hasResult:!1,results:[],selectedCuisine:"Cuisine",selectedDiet:"Diet",selectedIntolerance:"Intolerance",cuisines:[],diets:[],intolerances:[],cusine:"",diet:"",intolerance:"",numberOfResults_text:"Number of results",isEmpty:5,lastSearchUsername:"",hasLastSearch:!1,last_search:""}},validations:{form:{search:{required:c["required"],length:function(e){return Object(c["minLength"])(1)(e)},alphvalid:function(e){return/^[A-Za-z\s]*$/.test(e)}}}},mounted:function(){var e,t,r;console.log("mounted"),(e=this.cuisines).push.apply(e,Object(a["a"])(o)),(t=this.diets).push.apply(t,Object(a["a"])(l)),(r=this.intolerances).push.apply(r,Object(a["a"])(u)),this.last_search=localStorage.last_search_str,this.last_search&&localStorage.username==this.lastSearchUsername&&(this.hasLastSearch=!0)},components:{RecipePreview:d["a"]},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,n=t.$error;return r?!n:null},Search:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,s,i,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.lastSearchUsername=localStorage.username,r="https://chenshahafrecipes.cs.bgu.ac.il",console.log("search function"),t.prev=3,n="Your last search was: ".concat(e.userSearchTerm,"\n\n        (").concat(e.numberOfResults," results).\n"),s=r+"/recipes/search/"+e.userSearchTerm+"?numOfResults="+e.numberOfResults,e.numberOfResults,null!=e.selectedCuisine&&"Cuisine"!=e.selectedCuisine&&(s+="&cuisine="+e.selectedCuisine,n+="cuisine: ".concat(e.selectedCuisine," ")),null!=e.selectedDiet&&"Diet"!=e.selectedDiet&&(s+="&diet="+e.selectedDiet,n+=",diet: ".concat(e.selectedDiet," ")),null!=e.selectedIntolerance&&"Intolerance"!=e.selectedIntolerance&&(s+="&intolerance="+e.selectedIntolerance,n+=",intolerance: ".concat(e.selectedIntolerance," ")),localStorage.username&&(e.hasLastSearch=!0,e.last_search=n,localStorage.setItem("last_search_str",n)),t.next=13,e.axios.get(s,{withCredentials:!0});case 13:i=t.sent,204==i.status&&"No Content"==i.statusText?e.isEmpty=1:200==i.status&&(e.isEmpty=0,o=i.data,e.results=[],(c=e.results).push.apply(c,Object(a["a"])(o))),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](3),console.log(t.t0.response);case 20:case"end":return t.stop()}}),t,null,[[3,17]])})))()},onSearch:function(){console.log("search method called"),this.$v.form.$touch(),this.$v.form.$anyError||(this.userSearchTerm=this.form.search,this.Search())},numSearchResult:function(e){this.numberOfResults=e.toString(),this.numberOfResults_text=e},setCuisine:function(e){this.selectedCuisine="All Cuisines"!=e||"Cuisine"!=e?e:null},setDiet:function(e){console.log(e),this.selectedDiet="All Diets"!=e||"Diet"!=e?e:null},setIntolerance:function(e){console.log(e),this.selectedIntolerance="No Intolerances"!=e||"Intolerance"!=e?e:null},sortByCookingDuration:function(){this.isEmpty=1,this.results.sort((function(e,t){return e.readyInMinutes-t.readyInMinutes})),this.isEmpty=0},sortByPopularity:function(){this.isEmpty=1,this.results.sort((function(e,t){return t.popularity-e.popularity})),this.isEmpty=0}}},p=h,f=(r("2ff5"),r("2877")),m=Object(f["a"])(p,n,s,!1,null,"d6b3b4c4",null);t["default"]=m.exports},"4e82":function(e,t,r){"use strict";var n=r("23e7"),s=r("1c0b"),i=r("7b0b"),a=r("d039"),c=r("a640"),o=[],l=o.sort,u=a((function(){o.sort(void 0)})),d=a((function(){o.sort(null)})),h=c("sort"),p=u||!d||!h;n({target:"Array",proto:!0,forced:p},{sort:function(e){return void 0===e?l.call(i(this)):l.call(i(this),s(e))}})},"5ca5":function(e,t,r){},"832a":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"card",staticStyle:{width:"18rem",height:"23.24rem"}},[n("router-link",{attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id},query:{isPersonal:e.recipe.isPersonal}},id:"recipe-preview"}},[n("div",{staticClass:"recipe-body"},[e.image_load?n("img",{staticClass:"card-img-top",attrs:{src:e.recipe.image}}):e._e()]),n("h5",{staticClass:"card-title"},[e._v(" "+e._s(e.recipe.title)+" ")])]),n("div",{staticClass:"card-body"},[n("ul",{staticClass:"list-group list-group-flush"},[n("p",{attrs:{id:"recipe_info"}},[e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes "),n("span",{attrs:{id:"line"}},[e._v("|")]),e._v(" "+e._s(e.recipe.popularity)+" likes ")]),!0===e.recipe.isViewed?n("p",{attrs:{id:"viewed_recipe"}},[e._v(" you have watched this recipe ")]):e._e(),n("div",{staticClass:"food_icons"},[n("FavoriteButton",{staticClass:"favoriteButton",attrs:{recipe:e.recipe}}),!0===e.recipe.vegetarian?n("img",{attrs:{id:"vegetarian",src:r("a4a8"),height:"28px",width:"28px",title:"vegetarian"}}):e._e(),!0===e.recipe.vegan?n("img",{attrs:{id:"vegan",src:r("5455"),height:"28px",width:"28px",title:"vegan"}}):e._e(),!0===e.recipe.glutenFree?n("img",{attrs:{id:"glutenFree",src:r("513c"),height:"28px",width:"28px",title:"gluten free"}}):e._e()],1)])])],1)])},s=[],i=r("e6e2"),a={name:"RecipePreview",components:{FavoriteButton:i["a"]},mounted:function(){var e=this;console.log("recipe preview mounted"),this.axios.get(this.recipe.image).then((function(t){e.image_load=!0}))},data:function(){return{image_load:!1}},props:{recipe:{type:Object,required:!0}}},c=a,o=(r("d824"),r("2877")),l=Object(o["a"])(c,n,s,!1,null,"ac6f1632",null);t["a"]=l.exports},"841c":function(e,t,r){"use strict";var n=r("d784"),s=r("825a"),i=r("1d80"),a=r("129f"),c=r("14c3");n("search",1,(function(e,t,r){return[function(t){var r=i(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var i=s(e),o=String(this),l=i.lastIndex;a(l,0)||(i.lastIndex=0);var u=c(i,o);return a(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]}))},"99af":function(e,t,r){"use strict";var n=r("23e7"),s=r("d039"),i=r("e8b5"),a=r("861d"),c=r("7b0b"),o=r("50c4"),l=r("8418"),u=r("65f0"),d=r("1dde"),h=r("b622"),p=r("2d00"),f=h("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",b=p>=51||!s((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=d("concat"),_=function(e){if(!a(e))return!1;var t=e[f];return void 0!==t?!!t:i(e)},w=!b||!g;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,r,n,s,i,a=c(this),d=u(a,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?a:arguments[t],_(i)){if(s=o(i.length),h+s>m)throw TypeError(v);for(r=0;r<s;r++,h++)r in i&&l(d,h,i[r])}else{if(h>=m)throw TypeError(v);l(d,h++,i)}return d.length=h,d}})},c0ad:function(e,t,r){},d824:function(e,t,r){"use strict";var n=r("5ca5"),s=r.n(n);s.a}}]);
//# sourceMappingURL=chunk-c89aa11e.298be334.js.map